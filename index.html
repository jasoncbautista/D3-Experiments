<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<body>
    <p> Coolio </p>

    <div class="holder">
    </div>

    
</body>

<script>
    // Example data
    var data = [1, 3, 4, 4, 6, 8];


    var update = function(data){
        var divs = d3.select(".holder")
        .selectAll("div")
        .data(data);

        divs.enter().append("div")
        .style("width", function(value) { return value* 10 + "px";})
        .style("background", "blue")
        .style("height", "10px")
        .style("margin-bottom", "1px")
        ;
        divs.exit().remove();
    }

    // Update method
    update(data);

    var generaterRandomData = function(){
        var itemsLen = Math.random()*20;
        var results = [];
        for (var ii = 0; ii <= itemsLen; ii++){
            var value = Math.random()*100;
            results.push(value);
        };
        return results;
    };
    setInterval(function(){
        var newData = generaterRandomData(); 
        update(newData);
    }, 1500);

</script>
